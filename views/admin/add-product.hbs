

<section id="add-pro">
    <form action="/admin/add-product"  enctype="multipart/form-data" method="post">
         <div class="address-details">
               <h3>Add New Product</h3>
            <div>
                <input type="text" id="fname" name="name"  placeholder="Product Name"><br>
                <input type="text" id="lname" name="stock" placeholder="No Of Stock"><br>
                <input type="text" id="house" name="about" placeholder="Write About Product"><br>
                <input type="text" id="town" name="price"  placeholder="Product Price"><br>
                   
           </div>

      </div>

    <div class="select">
             <div class="brand">
               <select name="brand" id="">
                 <option value="">Brand</option>
                 {{#each brand}}
                 <option value="{{this.Name}}">{{this.Name}}</option>
                 {{/each}}
               </select>

             </div>

             <div class="cat">
               <select name="Mcategory" id="" onchange="renderScategories(event)">
                 <option value="">Category</option>
                 {{#each category}}
                 <option value="{{this.category}}">{{this.category}}</option>
                 {{/each}}
               </select>

             </div>

             <div class="subcat">
               <select name="Scategory" id="scategoriesContainer">
                 <option value="">Sub Category</option>         
               </select>

             </div>
           </div> 

            <div class="pro-img">
              <div class="img1">
                <input type="file" name="img1" onchange="viewImage1(event)">
                <img src="" alt="" id="imgview1">
                
              </div>

              <div class="img2">
                  <input type="file" name="img2" onchange="viewImage2(event)">
                <img src="" alt="" id="imgview2">
                

              </div>

              <div class="img3">
                  <input type="file" name="img3" onchange="viewImage3(event)">
                <img src="" alt="" id="imgview3">

              </div>

              <div class="img4">
                  <input type="file" name="img4" onchange="viewImage4(event)">
                <img src="" alt="" id="imgview4">

              </div>
            </div>

             <div class="add-btn">
                <button type="submit">Add</button>
                </div>

    </form>
</section>

<script>
  const categories = {{json category}}

    function viewImage1(event) {
        document.getElementById('imgview1').src=URL.createObjectURL(event.target.files[0])
    }
    function viewImage2(event) {
        document.getElementById('imgview2').src=URL.createObjectURL(event.target.files[0])
    }
    function viewImage3(event) {
        document.getElementById('imgview3').src=URL.createObjectURL(event.target.files[0])
    }
    function viewImage4(event) {
        document.getElementById('imgview4').src=URL.createObjectURL(event.target.files[0])
    }

    function renderScategories(event) {
      const selectBox = document.getElementById('scategoriesContainer');
      selectBox.innerHTML = '<option value="">Sub Category</option>';
      const [selectedCategory] = categories.filter((category) => category.category === event.target.value);
      
      selectedCategory.Scategory.forEach((sc) => {
        const option = document.createElement('option');
        option.value = sc;
        option.innerText = sc;
        selectBox.appendChild(option);
      });
    }
</script>


